<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jje.vbp.points.persistence.MemberPointsMapper">

    <resultMap id="memberPointsResult" type="memberPoints">
        <result property="name" column="NAME" />
        <result property="memberNumber" column="MEM_NUM" />
        <result property="cardNum" column="CARD_NUM" />
        <result property="perTitle" column="PER_TITLE" />
        <result property="email" column="EMAIL" />
        <result property="tier" column="TIER" />
        <result property="highestType" column="HIGHEST_TYPE" />
        <result property="points" column="POINTS" />
        <result property="pointExpiryDt" column="POINT_EXPIRY_DT" />
        <result property="redeemedPoints" column="REDEEMED_POINTS" />
        <result property="tierUpPoints" column="TIER_UP_POINTS" />
        <result property="tierUpTimes" column="TIER_UP_TIMES" />
        <result property="toDate" column="TO_DATE" />
        <result property="changedPoints" column="CHANGED_POINTS" />
        <result property="aquiredPoints" column="AQUIRED_POINTS" />
    </resultMap>

    <select id="queryPointsAtPrevMonth" parameterType="string" resultMap="memberPointsResult">
		SELECT * FROM T_VBP_MEMBER_POINTS WHERE MEM_NUM = #{memberId}
    </select>

</mapper>
